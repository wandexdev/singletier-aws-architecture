## CFN
A 2 stack JSON template used to deploy this AWS architecture in minutes.
It automatically populates and creates a Network and Server Infrastructure on AWS.

## Functionality
| s/n | Name                      | Description                                                                                                           | File Link                                                                                                                                                          |
|-----|---------------------------|-----------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1   | Network Template File     | This file contains the script to create a VPC with 2 availability zones each containing a private and public subnet. Each of the public subnets contains a NAT gateway. The VPC network will also be created with an Internet gateway so that it can communicate with the Internet. There are route tables and route rules created also. This stack, after created successfully, it outputs some global values such as the id of the VPCs and Subnets can can be used by another stack.                                                     | [network-infrastructure.json](https://github.com/wandexdev/singletier-aws-architecture/blob/main/cloudformation/network/network-infrastructure.json)
| 2   | Network Parameters File   | This file contains the parameter variables for the network file. In this file, you have to state the cidr block you want the network to use. You also have to state for the subnets.                                                                                                                                             | [network-parameters.json](https://github.com/wandexdev/singletier-aws-architecture/blob/main/cloudformation/network/network-parameters.json)
| 3   | Server Template File      | This file contains script to automate the creation of servers in the private subnets. The servers are created as part of an Autoscaling group with one instance in each of the private subnets. The instances can only communicate with the internet using the NAT gateway. A load balancer is created that takes requests from users and direct the requests to the private instances, other than this, the private instances are not exposed to receive requests directly from the internet. In this file, you have to state your `ssh key` to access your private instances. You also have to state the `ami id` of the instance you want to use.                                                                                                   | [server-stack.json](https://github.com/wandexdev/singletier-aws-architecture/blob/main/cloudformation/servers/server-stack.json)
| 4   | Server Parameters File    | This file contains the parameter variables for the server file                                                        | [servers-parameters.json](https://github.com/wandexdev/singletier-aws-architecture/blob/main/cloudformation/servers/servers-parameters.json)
| 5   | Create Stack              | A script to run the aws cloud formation command to create a stack. You run it in this manner `./create.sh stack-name template-file parameter-file`                                                                                                                                                                               | 
| 4   | Update Stack              | A script to run the aws cloud formation command to update a stack. You run it in this manner `./update.sh stack-name template-file parameter-file`                                                                                                                                                                               |

